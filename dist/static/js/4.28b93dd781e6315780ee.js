(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0X0e":function(n,t,e){"use strict";var o=e("7fWa"),a=e.n(o);t.default=a.a},"4QL7":function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"#footer {\n  margin-top: 40px;\n  text-align: center;\n  color: #bfbfbf;\n  font-size: 10px;\n  text-shadow: 0 1px 0 rgba(255,255,255,0.5);\n}\n",""])},"5PVy":function(n,t,e){var o=e("LdZv");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("01ea17f2",o,!0,{})},"6dfG":function(n,t,e){var o=e("c0qe");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("d74e50ca",o,!0,{})},"7fWa":function(n,t,e){var o=e("hrNv");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("cb25925e",o,!0,{})},FShu:function(n,t,e){"use strict";var o=e("6dfG");e.n(o).a},Innk:function(n,t,e){"use strict";var o=e("jA2p");e.n(o).a},LdZv:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.tab[data-v-2a826c8e] {\n  list-style: none;\n  line-height: 40px;\n  margin-right: 30px;\n  position: relative;\n  bottom: -2px;\n  cursor: pointer;\n}\n.tab.active[data-v-2a826c8e] {\n  border-bottom: 2px solid #00f;\n}\n.tab[data-v-2a826c8e]:last-child {\n  margin-right: 0;\n}\n",""])},M384:function(n,t,e){n.exports=e.p+"static/img/bg.55db3d9.jpeg"},MKib:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n#app[data-v-0134bea4] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n#cover[data-v-0134bea4] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #999;\n  opacity: 0.9;\n  z-index: -1;\n}\n#loading[data-v-0134bea4] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(255,255,255,0.3);\n  z-index: 99;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n",""])},O3l5:function(n,t,e){"use strict";var o=e("5PVy");e.n(o).a},Uxh6:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.tabs-header[data-v-3111e612] {\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  border-bottom: 2px solid #ededed;\n}\n",""])},"W/B5":function(n,t,e){var o=e("sEG9");(n.exports=e("I1BE")(!1)).push([n.i,"html,\nbody {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\nbody {\n  background-image: url("+o(e("M384"))+");\n  background-size: cover;\n  background-position: center;\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  color: #4d4d4d;\n  font-smoothing: antialiased;\n  font-weight: 300;\n}\n* {\n  box-sizing: border-box;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n",""])},WBCD:function(n,t,e){"use strict";var o=e("l//w");e.n(o).a},Z7s5:function(n,t,e){var o=e("4QL7");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("042048e7",o,!0,{})},"aOU+":function(n,t,e){"use strict";var o=e("n8FQ");e.n(o).a},c0qe:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.spinner[data-v-7989fa4a] {\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  text-align: center;\n  -webkit-animation: sk-rotate-data-v-7989fa4a 2s infinite linear;\n          animation: sk-rotate-data-v-7989fa4a 2s infinite linear;\n}\n.dot1[data-v-7989fa4a],\n.dot2[data-v-7989fa4a] {\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: #333;\n  border-radius: 100%;\n  -webkit-animation: sk-bounce-data-v-7989fa4a 2s infinite ease-in-out;\n          animation: sk-bounce-data-v-7989fa4a 2s infinite ease-in-out;\n}\n.dot2[data-v-7989fa4a] {\n  top: auto;\n  bottom: 0;\n  -webkit-animation-delay: -1s;\n          animation-delay: -1s;\n}\n@-webkit-keyframes sk-rotate-data-v-7989fa4a {\n100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes sk-rotate-data-v-7989fa4a {\n100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@-webkit-keyframes sk-bounce-data-v-7989fa4a {\n0%, 100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n}\n@keyframes sk-bounce-data-v-7989fa4a {\n0%, 100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n}\n}\n",""])},e2wT:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.notification[data-v-b543778c] {\n  display: inline-flex;\n  background-color: #303030;\n  color: #fff;\n  align-items: center;\n  padding: 20px;\n  min-width: 280px;\n  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);\n  flex-wrap: wrap;\n  transition: all 0.3s;\n}\n.content[data-v-b543778c] {\n  padding: 0;\n}\n.btn[data-v-b543778c] {\n  color: #ff4081;\n  padding-left: 24px;\n  margin-left: auto;\n  cursor: pointer;\n}\n",""])},ebB9:function(n,t,e){var o=e("W/B5");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("638c9ad7",o,!0,{})},ftlp:function(n,t,e){"use strict";e.r(t);var o=e("Kw5r"),a=e("jE9Z"),i=e("L2JU"),r=e("ConA"),s=e.n(r),c=e("QbLZ"),d=e.n(c),u=e("0X0e"),l=e("KHd+");var f=Object(l.a)({},function(){var n=this.$createElement,t=this._self._c||n;return t("header",{class:this.$style.mainHeader},[t("h1",[this._v("JTodo")])])},[],!1,function(n){this.$style=u.default.locals||u.default},null,null).exports,p=(e("Z7s5"),e("FShu"),{metaInfo:{title:"Jokcy's Todo App"},components:{Header:f,Footer:{data:function(){return{author:"Jokcy"}},render:function(){var n=arguments[0];return n("div",{attrs:{id:"footer"}},[n("span",["Written by ",this.author])])}},Loading:Object(l.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"spinner"},[t("div",{staticClass:"dot1"}),this._v(" "),t("div",{staticClass:"dot2"})])}],!1,null,"7989fa4a",null).exports},mounted:function(){},methods:{notify:function(){this.$notify({content:"test $notify",btn:"close"})}},computed:d()({},Object(i.c)(["loading"]))}),m=(e("Innk"),Object(l.a)(p,function(){var n=this.$createElement,t=this._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"cover"}}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],attrs:{id:"loading"}},[t("loading")],1),this._v(" "),t("Header"),this._v(" "),t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1),this._v(" "),t("Footer")],1)},[],!1,null,"0134bea4",null).exports),h={count:0,firstName:"Jokcy",lastName:"Lou",todos:[],user:null,loading:!1},v={updateCount:function(n,t){var e=t.num,o=t.num2;console.log(o),n.count=e},fillTodos:function(n,t){n.todos=t},addTodo:function(n,t){n.todos.unshift(t)},updateTodo:function(n,t){var e=t.id,o=t.todo;n.todos.splice(n.todos.findIndex(function(n){return n.id===e}),1,o)},deleteTodo:function(n,t){n.todos.splice(n.todos.findIndex(function(n){return n.id===t}),1)},deleteAllCompleted:function(n){n.todos=n.todos.filter(function(n){return!n.completed})},doLogin:function(n,t){n.user=t},startLoading:function(n){n.loading=!0},endLoading:function(n){n.loading=!1}},g={fullName:function(n){return n.firstName+" 123 "+n.lastName}},b=e("4d7F"),x=e.n(b),y=e("vDqi"),w=function(n,t){var e=new Error(t);return e.code=n,e},k=e.n(y).a.create({baseURL:"/"}),T=function(n){return new x.a(function(t,e){n.then(function(n){var o=n.data;return o?o.success?void t(o.data):e(w(400,o.message)):e(w(400,"no data"))}).catch(function(n){var t=n.response;console.log("---------------",t),401===t.status&&e(w(401,"need auth"))})})},L=function(){return T(k.get("/api/todos"))},C=function(n,t){return T(k.post("/user/login",{username:n,password:t}))},_=function(n,t){return T(k.put("/api/todo/"+n,t))},$=function(n){return T(k.post("/api/todo",n))},E=function(n){return T(k.delete("/api/todo/"+n))},I=function(n){return T(k.post("/api/delete/completed",{ids:n}))},S=e("jo6Y"),O=e.n(S),A={name:"Notification",props:{content:{type:String,required:!0},btn:{type:String,default:"关闭"}},data:function(){return{visible:!0}},computed:{style:function(){return{}}},methods:{handleClose:function(n){n.preventDefault(),this.$emit("close")},afterLeave:function(){this.$emit("closed")},afterEnter:function(){},clearTimer:function(){},createTimer:function(){}}},B=(e("WBCD"),Object(l.a)(A,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("transition",{attrs:{name:"fade"},on:{"after-leave":n.afterLeave,"after-enter":n.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:n.visible,expression:"visible"}],staticClass:"notification",style:n.style,on:{mouseenter:n.clearTimer,mouseleave:n.createTimer}},[e("span",{staticClass:"content"},[n._v(n._s(n.content))]),n._v(" "),e("a",{staticClass:"btn",on:{click:n.handleClose}},[n._v(n._s(n.btn))])])])},[],!1,null,"b543778c",null).exports),N={extends:B,computed:{style:function(){return{position:"fixed",right:"20px",bottom:this.verticalOffset+"px"}}},mounted:function(){this.createTimer()},methods:{createTimer:function(){var n=this;console.log(this.autoClose),this.autoClose&&(this.timer=setTimeout(function(){n.visible=!1},this.autoClose))},clearTimer:function(){this.timer&&clearTimeout(this.timer)},afterEnter:function(){this.height=this.$el.offsetHeight}},beforeDestory:function(){this.clearTimer()},data:function(){return{verticalOffset:0,autoClose:3e3,height:0,visible:!1}}},j=o.a.extend(N),Z=[],H=1,q=function(n){if(!o.a.prototype.$isServer){var t=n.autoClose,e=O()(n,["autoClose"]),a=new j({propsData:d()({},e),data:{autoClose:void 0===t?3e3:t}}),i="notification_"+H++;a.id=i,a.vm=a.$mount(),document.body.appendChild(a.vm.$el),a.vm.visible=!0;var r=0;return Z.forEach(function(n){r+=n.$el.offsetHeight+16}),r+=16,a.verticalOffset=r,Z.push(a),a.vm.$on("closed",function(){!function(n){if(n){var t=Z.length,e=Z.findIndex(function(t){return n.id===t.id});if(Z.splice(e,1),!(t<=1))for(var o=n.vm.height,a=e;a<t-1;a++)Z[a].verticalOffset=parseInt(Z[a].verticalOffset)-o-16}}(a),document.body.removeChild(a.vm.$el),a.vm.$destroy()}),a.vm.$on("close",function(){a.vm.visible=!1}),a.vm}},D=new o.a,F=function(n){401===n.code&&(q({content:"你得先登录啊！"}),D.$emit("auth"))},J={updateCountAsync:function(n,t){setTimeout(function(){n.commit("updateCount",{num:t.num})},t.time)},fetchTodos:function(n){var t=n.commit;return t("startLoading"),L().then(function(n){t("endLoading"),t("fillTodos",n)}).catch(function(n){t("endLoading"),F(n)})},addTodo:function(n,t){var e=n.commit;e("startLoading"),$(t).then(function(n){e("addTodo",n),e("endLoading"),q({content:"你又多了一件事要做"})}).catch(function(n){e("endLoading"),F(n)})},updateTodo:function(n,t){var e=n.commit,o=t.id,a=t.todo;e("startLoading"),_(o,a).then(function(n){e("updateTodo",{id:o,todo:n}),e("endLoading")}).catch(function(n){F(n),e("endLoading")})},deleteTodo:function(n,t){var e=n.commit;e("startLoading"),E(t).then(function(n){e("deleteTodo",t),q({content:"你又少了一件事要做"}),e("endLoading")}).catch(function(n){F(n),e("endLoading")})},deleteAllCompleted:function(n){var t=n.commit,e=n.state;t("startLoading");var o=e.todos.filter(function(n){return n.completed}).map(function(n){return n.id});I(o).then(function(){t("deleteAllCompleted"),t("endLoading"),q({content:"清理一下~~~"})}).catch(function(n){F(n),t("endLoading")})},login:function(n,t){var e=n.commit,o=t.username,a=t.password;return e("startLoading"),new x.a(function(n,t){C(o,a).then(function(t){e("doLogin",t),q({content:"登录成功"}),n(),e("endLoading")}).catch(function(n){F(n),t(n),e("endLoading")})})}},W=[{path:"/",redirect:"/app"},{path:"/app",props:!0,component:function(){return e.e(3).then(e.bind(null,"X5Hr"))},name:"app",meta:{title:"this is app",description:"asdasd"},beforeEnter:function(n,t,e){console.log("app route before enter"),e()}},{path:"/login",component:function(){return e.e(2).then(e.bind(null,"3D+c"))}}],z={props:{panes:{type:Array,required:!0}},render:function(){return(0,arguments[0])("div",{class:"tab-content"},[this.panes.map(function(n){return n.active?n.$slots.default:null})])}},U={name:"Tabs",components:{TabContainer:Object(l.a)(z,void 0,void 0,!1,null,null,null).exports},props:{value:{type:[String,Number],required:!0}},data:function(){return{panes:[]}},render:function(){var n=arguments[0];return n("div",{class:"tabs"},[n("ul",{class:"tabs-header"},[this.$slots.default]),n("tab-container",{attrs:{panes:this.panes}})])},methods:{onChange:function(n){this.$emit("change",n)}}},Q=(e("aOU+"),Object(l.a)(U,void 0,void 0,!1,null,"3111e612",null).exports),K={name:"Tab",props:{index:{required:!0,type:[Number,String]},label:{type:String,default:"tab"}},mounted:function(){this.$parent.panes.push(this)},computed:{active:function(){return this.$parent.value===this.index}},methods:{handleClick:function(){this.$parent.onChange(this.index)}},render:function(){var n=arguments[0],t=this.$slots.label||n("span",[this.label]);return n("li",{class:{tab:!0,active:this.active},on:{click:this.handleClick}},[t])}},M=(e("O3l5"),Object(l.a)(K,void 0,void 0,!1,null,"2a826c8e",null).exports);e("ebB9");o.a.use(a.a),o.a.use(i.a),o.a.use(s.a),o.a.use(function(n){n.component(B.name,B),n.prototype.$notify=q}),o.a.use(function(n){n.component(Q.name,Q),n.component(M.name,M)});var G,X,P=(G=new a.a({routes:W,mode:"history",linkActiveClass:"active-link",linkExactActiveClass:"exact-active-link",scrollBehavior:function(n,t,e){return e||{x:0,y:0}}}),X=new i.a.Store({strict:!1,state:h,mutations:v,getters:g,actions:J}),{app:new o.a({router:G,store:X,render:function(n){return n(m)}}),router:G,store:X}),R=P.app,V=P.router,Y=P.store;window.__INITIAL_STATE__&&Y.replaceState(window.__INITIAL_STATE__),D.$on("auth",function(){V.push("/login")}),V.onReady(function(){R.$mount("#app")})},hrNv:function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n.main-header {\n  text-align: center;\n}\n.main-header h1 {\n  font-size: 100px;\n  color: rgba(175,47,47,0.4);\n  font-weight: 100;\n  margin: 20px;\n}\n",""])},jA2p:function(n,t,e){var o=e("MKib");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("75185454",o,!0,{})},"l//w":function(n,t,e){var o=e("e2wT");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("d81f8ad8",o,!0,{})},n8FQ:function(n,t,e){var o=e("Uxh6");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e("SZ7m").default)("7f55d418",o,!0,{})}},[["ftlp",0,1]]]);